<!doctype html>
<html>

<head>
	<title>DS18B20 Data Sensor</title>
	<link rel="stylesheet" href='../static/style.css'/>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style>
		body {
			text-align: center;
		}

		#g1,
		#g2 {
			width: 200px;
			height: 160px;
			display: inline-block;
			margin: 1em;
		}

	</style>
</head>

<body>
	<!-- <script> -->
		<!-- var form = document.querySelector("form"); -->
		<!-- var log = document.querySelector("#log"); -->

		<!-- form.addEventListener("submit", function(event) { -->
		<!-- var data = new FormData(form); -->
		<!-- var output = ""; -->
		<!-- for (const entry of data) { -->
		<!-- output = entry[0] + "=" + entry[1] + "\r"; -->
		<!-- }; -->
		<!-- log.innerText = output; -->
		<!-- event.preventDefault(); -->
		<!-- }, false); -->
	<!-- </script> -->
	
	<h1>DS18B20 Sensor Data </h1>
	<div id="g1"></div>
	<!-- <div><img src="/gauge/temp" alt="Image Placeholder" width="49%"></div> -->
	<!-- <div id="g2"></div> -->
	<hr>
	<h3> Last Sensor Reading: {{ time }} {{ timezone }} ==> <a href="/"class="button">REFRESH</a></h3>	
	<hr>
	<h3> HISTORICAL DATA </h3>
		<p> Enter range of time to be retrieved (Sample Frequency: {{ freq }} minutes)
		<form method="POST">
			<input name="rangeTime" value={{ rangeTime }}><br>
			<div id="radio-container">
				<div>
					<label for="minutes">Minutes</label>
					<input id="minutes" type="radio" name="rangeUnit" value="1">
				</div>
				<div>
					<label for="hours">Hours</label>
					<input id="hours" type="radio" name="rangeUnit" value="60">
				</div>
				<div>
					<label for="days">Days</label>
					<input id="days" type="radio" name="rangeUnit" value="1440">
				</div>
			</div>
			<!-- <div id="checkbox-container"> -->
				<!-- <div> -->
					<!-- <label for="option1">Minutes</label> -->
					<!-- <input type="checkbox" id="option1"> -->
				<!-- </div> -->
				<!-- <div> -->
					<!-- <label for="option2">Hours</label> -->
					<!-- <input type="checkbox" id="option2"> -->
				<!-- </div> -->
				<!-- <div> -->
					<!-- <label for="option3">Days</label> -->
					<!-- <input type="checkbox" id="option3"> -->
				<!-- </div> -->

				<!-- <button>Check All</button> -->
			<!-- </div> -->
			<input type="submit">
		</form>
		</p>
		<hr>
		<img src="/plot/temp" alt="Image Placeholder" width="99%">
		<!-- <img src="/plot/hum" alt="Image Placeholder" width="49%"> -->
		<!-- <img src="/test/custom_css_file" alt="Image Placeholder" width="99%"> -->
	
	
	<script src="../static/raphael-2.1.4.min.js"></script>
	<script src="../static/justgage.js"></script>
	<script>
		var g1, g2;
		document.addEventListener("DOMContentLoaded", function(event) {
			g1 = new JustGage({
				id: "g1",
				value: {{temp}},
				valueFontColor: "yellow",
				titleFontColor: "yellow",
				min: 60,
				max: 100,
				title: "Temperature",
				label: "Farenheit"
			});

			<!-- g2 = new JustGage({ -->
				<!-- id: "g2", -->
				<!-- value: {{hum}}, -->
				<!-- valueFontColor: "yellow", -->
				<!-- titleFontColor: "yellow", -->
				<!-- min: 0, -->
				<!-- max: 100, -->
				<!-- title: "Humidity", -->
				<!-- label: "%" -->
			<!-- }); -->

		});
	</script>
	<script src="../static/jquery-2.2.3.min.js"></script>
	<script>
		<!-- $("#radio-container :radio").on("change", function(){ -->
			<!-- alert("The radio with the ID '" + this.id + "' changed"); -->
		<!-- }); -->

		var radioValues = JSON.parse(localStorage.getItem('radioValues')) || {},
			$radios = $("#radio-container :radio");

		$radios.on("change", function(){
			$radios.each(function(){
				radioValues[this.id] = this.checked;
		});

			localStorage.setItem("radioValues", JSON.stringify(radioValues));
		});

		// On page load
		$.each(radioValues, function(key, value) {
			$("#" + key).prop('checked', value);
		});
	</script>
</body>

</html>